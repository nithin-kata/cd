 a) Program to recognize a valid arithmetic expression that uses operator +,-, * and /.
 
Program:

                                       exp4a.l
%{
#include "y.tab.h"
#include <stdlib.h>
%}

%%
[0-9]+          { yylval = atoi(yytext); return NUM; }
[+\-*/()]       { return yytext[0]; }
\n              { return '\n'; }
[ \t]           { }
.               { printf("Invalid character: %s\n", yytext); }

%%
int yywrap() { return 1; }


                                          exp4a.y

 %{
#include <stdio.h>
#include <stdlib.h>

int yylex();
void yyerror(const char *s) {
    printf("Syntax error: %s\n", s);
}
%}

%token NUM
%left '+' '-'
%left '*' '/'

%%

input:
    | input expr '\n'    { printf("Result = %d\n", $2); }
;

expr:
      NUM
    | '(' expr ')'       { $$ = $2; }
    | expr '+' expr      { $$ = $1 + $3; }
    | expr '-' expr      { $$ = $1 - $3; }
    | expr '*' expr      { $$ = $1 * $3; }
    | expr '/' expr      {
                            if($3 == 0) { 
                                yyerror("Division by zero");
                                YYABORT;
                            }
                            $$ = $1 / $3;
                         }
;

%%

int main() {
    printf("Enter arithmetic expressions:\n");
    return yyparse();
}



 Output:

 (myenv) vaishnavi@VAISHNAVI:~/cd/lab$ lex exp4a.l
 (myenv) vaishnavi@VAISHNAVI:~/cd/lab$ yacc-d exp4a.y
 (myenv) vaishnavi@VAISHNAVI:~/cd/lab$ gcc lex.yy.c y.tab.c
 (myenv) vaishnavi@VAISHNAVI:~/cd/lab$ ./a.out
 Enter an arithmetic expression:
 2+3*4
 Result = 14
 2
Syntax error: syntax error
